<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HOME APPLICANT</title>
  <!-- Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <!-- Styles -->
  <link rel="stylesheet" href="index.css"/>
</head>
<body>
  <!-- Header -->
  <div class="hero">
    <header>
      <div class="logo">
        <img src="/Assets/PESO_logo.png" alt="PESO Logo">
      </div>
      <nav>
        <a href="index.html">Home</a>  
        <a href="notif.html">Real-Time Information</a>
        <a href="application.html" class="active">Applications</a>
        <a href="acc&secu.html">Account & Security</a>
        <a href="#" id="logoutLink">Log Out</a>
      </nav>
    </header>

    <section class="welcome">
      <h1>Welcome, Juan!</h1>
      <p>Hereâ€™s what we have today</p>
    </section>
  </div>

  <!-- Container Section -->
  <section class="container">
    <h2>My Applications</h2>
    <p>Manage and Track your Applications!</p>
  </section>

  <!-- Tabs -->
  <div class="filter-tabs">
    <button class="active" data-filter="all">All</button>
    <button data-filter="pending">Pending</button>
    <button data-filter="shortlisted">Shortlisted</button>
    <button data-filter="interview">For Interview</button>
    <button data-filter="hired">Hired</button>
    <button data-filter="rejected">Rejected</button>
    <button data-filter="cancelled">Cancelled</button>
  </div>
  <br>

  <!-- Applications List -->
  <div class="applications">
    <div class="app-card" data-status="interview">
      <div class="app-info">
        <h3>Service Crew <br><small>McDonald's Philippines</small></h3>
        <p>Applied on March 15, 2024</p>
      </div>
      <span class="status interview">For Interview</span>
    </div>

    <div class="app-card" data-status="shortlisted">
      <div class="app-info">
        <h3>Production Operator <br><small>Nestle Philippines</small></h3>
        <p>Applied on March 10, 2024</p>
      </div>
      <span class="status shortlisted">Shortlisted</span>
    </div>

    <div class="app-card" data-status="pending">
      <div class="app-info">
        <h3>Call Center Agent <br><small>Globe Telecom</small></h3>
        <p>Applied on March 12, 2024</p>
      </div>
      <span class="status pending">Pending</span>
    </div>

    <div class="app-card" data-status="hired">
      <div class="app-info">
        <h3>Sales Associate <br><small>SM Supermalls</small></h3>
        <p>Applied on March 8, 2024</p>
      </div>
      <span class="status hired">Hired</span>
    </div>

    <div class="app-card" data-status="rejected">
      <div class="app-info">
        <h3>Cashier <br><small>Jollibee Foods Corporation</small></h3>
        <p>Applied on March 5, 2024</p>
      </div>
      <span class="status rejected">Rejected</span>
    </div>
  </div>
  <br>

  <!-- Application Modal -->
  <div id="applicationModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Hello Juan!</h2>
      <div class="app-details">
        <h3>Current Application Status 
          <span id="modal-status" class="status"></span>
        </h3>
        <p><b>Application Information:</b></p>
        <p id="modal-info"></p>
        <button class="track-btn">Track Status</button>
        <button class="cancel-btn">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Logout Confirmation Modal -->
  <div class="modal-overlay" id="logoutModal">
    <div class="logout-modal">
      <span class="logout-close" id="closeLogout">&times;</span>
      <h2>Logging Out</h2>
      <p>Are you sure you want to log out?</p>
      <button id="confirmLogout">Confirm</button>
      <button class="cancel" id="cancelLogout">Cancel</button>
    </div>
  </div>

<script>
  // Filtering Functionality
  const filterButtons = document.querySelectorAll(".filter-tabs button");
  const appCards = document.querySelectorAll(".app-card");

  filterButtons.forEach(button => {
    button.addEventListener("click", () => {
      filterButtons.forEach(btn => btn.classList.remove("active"));
      button.classList.add("active");

      const filter = button.getAttribute("data-filter");

      appCards.forEach(card => {
        card.style.display = (filter === "all" || card.dataset.status === filter) ? "flex" : "none";
      });
    });
  });

  // Application Modal Functionality
  const modal = document.getElementById("applicationModal");
  const closeBtn = document.querySelector(".close");
  const modalInfo = document.getElementById("modal-info");
  const modalStatus = document.getElementById("modal-status");

  document.querySelectorAll(".app-card h3").forEach(h3 => {
    h3.addEventListener("click", () => {
      const card = h3.closest(".app-card");
      const jobTitle = h3.childNodes[0].textContent.trim();
      const company = h3.querySelector("small")?.textContent || "";
      const appliedDate = card.querySelector("p").textContent;
      const statusSpan = card.querySelector(".status");

      modalStatus.textContent = statusSpan.textContent;
      modalStatus.className = "status " + card.dataset.status;
      modalInfo.innerHTML = `${jobTitle} <br>${company}<br>Lipa City, Batangas<br>${appliedDate}`;
      
      modal.style.display = "block";
    });
  });

  closeBtn.addEventListener("click", () => modal.style.display = "none");

  window.addEventListener("click", (e) => {
    if (e.target === modal) modal.style.display = "none";
  });

  // Logout Modal Functionality
  const logoutLink = document.getElementById("logoutLink");
  const logoutModal = document.getElementById("logoutModal");
  const closeLogout = document.getElementById("closeLogout");
  const cancelLogout = document.getElementById("cancelLogout");
  const confirmLogout = document.getElementById("confirmLogout");

  logoutLink.addEventListener("click", (e) => {
    e.preventDefault();
    logoutModal.style.display = "flex";
  });

  closeLogout.addEventListener("click", () => {
    logoutModal.style.display = "none";
  });

  cancelLogout.addEventListener("click", () => {
    logoutModal.style.display = "none";
  });

  confirmLogout.addEventListener("click", () => {
    window.location.href = "/Landing_Page/index.html"; 
  });

  window.addEventListener("click", (e) => {
    if (e.target === logoutModal) {
      logoutModal.style.display = "none";
    }
  });
</script>
</body>
</html>
